
## 1. このアプリでできること

* ユーザー登録 & ログイン

  * メールアドレス＋パスワード
  * 登録時に **ワンタイム認証コード（OTP）をメール送信**して本人確認
* 自分用カレンダー機能

  * 自分の予定（タイトル / 日付 / 時刻 / 終日 / 場所 / メモ）を登録・表示
* イベントの招待＆日程調整

  * イベントタイトルと **複数の候補日時**（スロット）を登録
  * 招待したい人のメールアドレスを入力すると

    * 招待リンク付きメールを自動送信
* 参加者側の回答ページ

  * 氏名入力
  * 「参加する / 不参加」を選択
  * 参加する場合は **参加可能な候補日時にチェック**
* 主催者側での集計・一覧表示

  * イベントごとに

    * だれが / どの候補に / 参加可能か
    * 招待済み / 未回答 / 参加 / 不参加 を一覧で確認
  * 「参加可能人数の多い候補」を自動で計算
* 最終日時の確定 & 一斉メール送信

  * ベストな候補を選んでイベントを「確定」
  * 参加予定者全員に **決定メールを自動送信**
  * 主催者自身のカレンダーに自動で予定登録・更新
* 追加連絡メール

  * 確定後のイベントに対して

    * 参加者だけ
    * 不参加(＋未回答)だけ
    * 全員
      に一斉メールを送信可能
* （AI）Gemini 連携

  * 最終案内文の下書きや、本文の自動生成のための API エンドポイントを用意
  * レート制限・キャッシュ・サーキットブレーカー付きで安全に叩く


## 8. ざっくりデモシナリオ

1. 新規ユーザーが `/register` から登録（メールにOTPが届く）
2. `/confirm` でOTPを入力して本登録
3. `/login` からログイン → `/calendar` で自分の予定を確認
4. `/invite` で「打ち合わせ」イベントを作成し、

   * 例：3つぐらい候補日・時間を入力
   * 3人のメールアドレスを登録
5. 3人に招待メールが届き、それぞれ `/respond/<token>` から回答
6. 主催者は `/event/<id>/results` と `/invites` で集計結果を確認
7. `/event/<id>/finalize` でベストな候補を選んでイベント確定

   * 必要ならカスタム本文を添えて、決定メール送信
   * 自分のカレンダーにも自動で追加
8. 開催直前に `/event/<id>/email` から参加者だけにリマインドメール送信


## 1. यो एपबाट के–के गर्न सकिन्छ

* प्रयोगकर्ता दर्ता र लगइन

  * इमेल ठेगाना + पासवर्ड
  * दर्ता गर्दा **वन–टाइम प्रमाणीकरण कोड (OTP) इमेलमार्फत पठाइन्छ** र त्यसले本人確認（本人確認） गर्छ

* आफ्नै लागि क्यालेन्डर फन्क्सन

  * आफ्नो तालिका (शीर्षक / मिति / समय / दिनभरिको कार्यक्रम / स्थान / मेमो) दर्ता र हेर्न सकिन्छ

* इभेन्ट निमन्त्रण र日程調整（तालमेल）

  * इभेन्टको शीर्षक र **थुप्रै सम्भावित मिति–समय (स्लट)** दर्ता गर्न सकिन्छ
  * निम्तो पठाउन चाहिएका व्यक्तिका इमेल ठेगाना लेखेपछि

    * निमन्त्रणा लिङ्क समावेश भएको इमेल स्वचालित रूपमा पठाइन्छ

* सहभागी पक्षको उत्तर दिने पेज

  * नाम (氏名) लेख्ने ठाउँ
  * 「参加する / 不参加（参加する / सहभागी हुँछु, 不参加 / सहभागी हुँदिना）」 चयन
  * सहभागी हुने भएमा **सहभागी हुन सक्ने स्लटहरूमाチェック（चेकमार्क） गर्ने**

* आयोजक पक्षका लागि集計（जम्मा/विश्लेषण） र सूची

  * प्रत्येक इभेन्टका लागि

    * को / कुन स्लटमा / सहभागी हुन सक्छ भन्ने एक नजरमा हेर्न सकिने
    * 招待済み / 未回答 / 参加 / 不参加
      （निमन्त्रणा पठाइसकिएको / अझै उत्तर नआएको / सहभागी / सहभागी नहुने） स्थिति सूचीमा देखिन्छ
  * 「सबैभन्दा धेरै सहभागी हुन सक्ने स्लट」 स्वचालित रूपमा計算（क्यालकुलेट） गर्छ

* अन्तिम मिति–समय確定 & 一斉メール送信（一括メール）

  * ベストな候補（सबैभन्दा良いスロット） रोजेर इभेन्टलाई “確定（फिक्स）” गर्ने
  * सहभागी हुने भनेर答え गरेका सबैजनालाई **決定メール（確定通知） स्वचालित रूपमा पठाउने**
  * आयोजकको आफ्नै क्यालेन्डरमा पनि त्यो予定 स्वचालित रूपमा दर्ता/अपडेट हुन्छ

* 追加連絡メール（फोलो–अप इमेल）

  * 確定後のイベント（पहिले नै確定 भइसकेको इभेन्ट）का लागि

    * सहभागीहरूलाई मात्र
    * 不参加（＋未回答）＝ सहभागी नहुने＋अझै उत्तर नदिनेहरूलाई मात्र
    * 全員（सबैलाई）
      यस्ता समूहहरूलाई छुट्टाछुट्टै 一斉メール（同報メール） पठाउन सकिन्छ

* (AI) Gemini 連携

  * अन्तिम案内文को ड्राफ्ट (下書き) र本文自動生成का लागि APIエンドポイント उपलब्ध
  * レート制限 / キャッシュ / サーキットブレーカー付きなので、安全にAI API を呼び出せる仕組みになっています

---

## 8. ざっくりデモシナリオ（簡単な利用イメージ）

1. नयाँ प्रयोगकर्ताले `/register` बाट दर्ता गर्छ (इमेलमा OTP पुग्छ)

2. `/confirm` मा OTP हालेर 本登録（本会員登録） पूरा गर्छ

3. `/login` बाट लगइन → `/calendar` मा गएर आफ्नो तालिका हेर्छ

4. `/invite` मा गएर 「打ち合わせ」 जस्तो इभेन्ट बनाउँछ

   * उदाहरण: करिब 3 वटा मिति–समयका候補 इनपुट गर्छ
   * 3 जनाको इमेल ठेगाना दर्ता गर्छ

5. ती 3 जनालाई निमन्त्रणा इमेल पुग्छ, र सबैले `/respond/<token>` बाट उत्तर दिन्छन्

6. आयोजकले `/event/<id>/results` र `/invites` मा गएर集計結果（誰がいつ来られるか） जाँच्छ

7. `/event/<id>/finalize` मा गएर、सबैभन्दा良い候補スロット रोजेर イベントを確定する

   * 必要なら、カスタム文章を本文に足して決定メールを送信
   * 同時に、自分のカレンダーにもその予定が自動追加される

8. 開催直前になったら `/event/<id>/email` から、参加予定者だけにリマインドメールを一斉送信する

